<?xml version="1.0" encoding="UTF-8"?>
<mappings xmlns="http://dozer.sourceforge.net"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://dozer.sourceforge.net
          http://dozer.sourceforge.net/schema/beanmapping.xsd">
          
  <mapping> 
    <class-a>com.nibbledebt.integration.finicity.model.Institution</class-a>
    <class-b>com.nibbledebt.domain.model.Institution</class-b>   
    <field>
      <a>urlHomeApp</a>
      <b>homeUrl</b>
    </field>
    <field>
      <a>accountTypeDescription</a>
      <b>type</b>
    </field>
  </mapping>  
  
  <mapping> 
    <class-a>com.nibbledebt.integration.finicity.model.trxs.Transaction</class-a>
    <class-b>com.nibbledebt.domain.model.Transaction</class-b>   
    <field>
      <a>institutionTransactionId</a>
      <b>trxId</b>
    </field>
    <field>
      <a>id</a>
      <b>aggregatorTrxId</b>
    </field>
    <field>
      <a>type</a>
      <b>category</b>
    </field>
    <field>
      <a>amount</a>
      <b>trxAmount</b>
    </field>
    <field custom-converter="com.nibbledebt.integration.finicity.model.DateToUtilDate">
    	<a>transactionDate</a>
    	<b>trxDate</b>
  	</field>
    <field custom-converter="com.nibbledebt.integration.finicity.model.DateToUtilDate">
    	<a>postedDate</a>
    	<b>trxPostDate</b>
  	</field>
  </mapping>
    <mapping>
        <class-a>com.nibbledebt.integration.finicity.model.accounts.Account</class-a>
        <class-b>com.nibbledebt.domain.model.account.Account</class-b>
        <field>
            <a>id</a>
            <b>accountExternalId</b>
        </field>
        <field>
            <a>number</a>
            <b>accountNumber</b>
        </field>
        <field>
            <a>type</a>
            <b>accountType</b>
        </field>
        <field>
            <a>institutionId</a>
            <b>institutionExternalId</b>
        </field>
        <field>
            <a>balance</a>
            <b>available</b>
        </field>
        <field>
            <a>balance</a>
            <b>balance</b>
        </field>
    </mapping>

</mappings> 